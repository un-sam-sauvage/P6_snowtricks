{% extends 'base.html.twig' %}

{% block title %}Posts{% endblock %}

{% block body %}
	<h1>Posts</h1>

	<table class="table">
		<tbody>
			<tr>
				<th>Id</th>
				<td>{{ post.id }}</td>
			</tr>
			<tr>
				<th>Name</th>
				<td>{{ post.name }}</td>
			</tr>
			<tr>
				<th>Content</th>
				<td>{{ post.content }}</td>
			</tr>
			<tr>
				<th>Categories</th>
				{% for category in post.categories %}
					<td>
						{{category.name}}
					</td>
				{% endfor %}
			</tr>
			<tr>
				<th>Medias</th>
				{% for media in post.medias %}
					<td>
						{% if media.isVideo %}
							<iframe width="560" height="315" src="{{media.path}}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
						{% else %}
							<img src="{{ asset('uploads/pictures/' ~ media.path) }}">
						{% endif %}
					</td>
				{% endfor %}
			</tr>
		</tbody>
	</table>
		{{ form_start(form)  }}
		<button class="btn btn-success">{{ button_label|default('Save') }}</button>
		{{ form_end(form) }}
	
	{% for comment in post.comments %}
	<div>
	 <p>{{ comment.title}}</p>
	 <p>{{ comment.content }}</p>
	</div>

	{% endfor %}
	<a href="{{ path('app_posts_index') }}">back to list</a>

	<a href="{{ path('app_posts_edit', {'id': post.id}) }}">edit</a>

	{{ include('posts/_delete_form.html.twig') }}
{% endblock %}
